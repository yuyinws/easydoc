import{o as i,h as d,i as c,t as y,r as p,b as v,w as k,j as T,k as S,e as x,T as w,l as E,m as f,n as H,u as m,p as u,F as $,q as A,s as B,v as j}from"./vendor.4365cc2e.js";import{_ as b}from"./index.8037f496.js";const F={class:"min-w-full bg-gray-100 p-3 grid grid-cols-3"},N={class:"text-left col-span-2"},U={props:{title:{type:String,default:""}},emits:["changePop"],setup(t,{emit:s}){return(e,n)=>(i(),d("div",F,[c("i",{class:"iconfont icon-cebianlan",onClick:n[0]||(n[0]=o=>s("changePop"))}),c("div",N,y(t.title),1)]))}},V={props:{isPopShow:Boolean},setup(t){return(s,e)=>{const n=p("van-popup");return i(),v(n,{style:{"min-width":"50%",height:"100%"},show:t.isPopShow,"onUpdate:show":e[0]||(e[0]=o=>S(isPopShow)?isPopShow.value=o:null),position:"left"},{default:k(()=>[T(s.$slots,"default")]),_:3},8,["show"])}}};x.defaults.baseURL="/";x.interceptors.response.use(t=>{let s=t.data;const{state:e,subMsg:n,code:o}=s;return e&&e!==200||o&&o!=="0"?(w(`\u9519\u8BEF\uFF1A${n}`),t.data):s},t=>{if(t.response)switch(t.response.status){case 403:w({type:"error",message:"\u9519\u8BEF\uFF1A403"});break;case 404:w({type:"error",message:"\u9519\u8BEF\uFF1A404"})}});function L(t,s,e){let n={method:t,url:s};return(t==="POST"||t==="PATCH"||t==="PUT")&&e&&(n.data=e),(t==="GET"||t==="DELETE")&&e&&(n.params=e),x(n).then(o=>o,o=>o)}var P={apiDomain:"git.yuyinws.top",userName:"yuyinws",clientId:"b46f59e6be5dff5ce391",secrets:"6c555701c1d52183e9a8b4351365bb50914bcf6b"};function z(t="doc"){return L("get",`https://api.github.com/repos/${P.userName}/${{}.VUE_APP_REPO}/contents/${t}?ref=gh-pages&client_id=${P.clientId}&client_secret=${P.secrets}`)}function I(t){return L("get",`/${{}.VUE_APP_REPO}/${t}`)}const R={key:1,class:"px-3 pt-2"},D={class:"flex flex-row justify-between"},O={style:{"font-size":"20px"}},G=["onClick"],M={emits:["getText","changePop"],setup(t,{emit:s}){const e=E({fileList:[],pathArr:[],pathHistory:[]}),n=f(!1),o=a=>{a.type==="dir"?r(a.path):s("getText",a)},r=async a=>{n.value=!0,e.pathHistory.push(a),e.pathArr=a.split("/");const l=await z(a);e.fileList=l,n.value=!1},g=()=>{if(e.pathHistory.length<2){s("changePop");return}let a=e.pathHistory[e.pathHistory.length-2];e.pathHistory.pop(),e.pathHistory.pop(),r(a)};return H(()=>{r("doc")}),(a,l)=>{const h=p("van-loading"),C=p("van-divider");return n.value?(i(),v(h,{key:0,class:"loading",color:"#1989fa"})):(i(),d("div",R,[c("div",D,[c("div",null,[c("i",{class:"iconfont icon-houtui",style:{"font-size":"20px"},onClick:g}),c("span",O,y(m(e).pathArr[m(e).pathArr.length-1]),1)]),c("i",{class:"iconfont icon-guanbi",style:{"font-size":"20px"},onClick:l[0]||(l[0]=_=>s("changePop"))})]),u(C),(i(!0),d($,null,A(m(e).fileList,_=>(i(),d("div",{key:_.sha},[c("div",{onClick:Q=>o(_)},[c("i",{class:B(["iconfont",[_.type==="dir"?"icon-wenjianjia":"icon-24gl-fileText"]])},null,2),j(" "+y(_.name),1)],8,G)]))),128))]))}}};var q=b(M,[["__scopeId","data-v-6cde4d68"]]);const J={props:{text:{type:String,default:""},iscontainerLoading:Boolean},setup(t){return(s,e)=>{const n=p("van-loading"),o=p("v-md-preview");return t.iscontainerLoading?(i(),v(n,{key:0,class:"loading",color:"#1989fa"})):(i(),v(o,{key:1,text:t.text},null,8,["text"]))}}};var K=b(J,[["__scopeId","data-v-50168092"]]);const Y={setup(t){const s=f(!1),e=f("**Empty**"),n=f("Home"),o=f(!1),r=()=>{s.value=!s.value},g=async a=>{n.value=a.name,r(),o.value=!0;const l=await I(a.path);e.value=l,o.value=!1};return(a,l)=>{const h=p("router-view");return i(),d($,null,[u(U,{title:n.value,onChangePop:r},null,8,["title"]),u(V,{isPopShow:s.value},{default:k(()=>[u(q,{onChangePop:r,onGetText:g})]),_:1},8,["isPopShow"]),u(K,{text:e.value,iscontainerLoading:o.value},null,8,["text","iscontainerLoading"]),u(h)],64)}}};export{Y as default};
