import{o as i,h as d,i as r,t as x,r as p,b as g,w as k,j as T,k as E,e as w,T as m,l as b,m as f,n as H,u as P,p as u,F as $,q as B,s as N,v as j}from"./vendor.4365cc2e.js";import{_ as L}from"./index.c054b37e.js";const A={class:"min-w-full bg-gray-100 p-3 grid grid-cols-3"},F={class:"text-left col-span-2"},I={props:{title:{type:String,default:""}},emits:["changePop"],setup(t,{emit:o}){return(e,n)=>(i(),d("div",A,[r("i",{class:"iconfont icon-cebianlan",onClick:n[0]||(n[0]=s=>o("changePop"))}),r("div",F,x(t.title),1)]))}},R={props:{isPopShow:Boolean},setup(t){return(o,e)=>{const n=p("van-popup");return i(),g(n,{style:{"min-width":"50%",height:"100%"},show:t.isPopShow,"onUpdate:show":e[0]||(e[0]=s=>E(isPopShow)?isPopShow.value=s:null),position:"left"},{default:k(()=>[T(o.$slots,"default")]),_:3},8,["show"])}}};w.defaults.baseURL="/";w.interceptors.response.use(t=>{let o=t.data;const{state:e,subMsg:n,code:s}=o;return e&&e!==200||s&&s!=="0"?(m(`\u9519\u8BEF\uFF1A${n}`),t.data):o},t=>{if(t.response)switch(t.response.status){case 403:m({type:"error",message:"\u9519\u8BEF\uFF1A403"});break;case 404:m({type:"error",message:"\u9519\u8BEF\uFF1A404"})}});function C(t,o,e){let n={method:t,url:o};return(t==="POST"||t==="PATCH"||t==="PUT")&&e&&(n.data=e),(t==="GET"||t==="DELETE")&&e&&(n.params=e),w(n).then(s=>s,s=>s)}var v={apiDomain:"git.yuyinws.top",userName:{}.USERNAME,repo:{}.REPO,clientId:{}.CLIENT_ID,secrets:{}.SECRETS};function z(t="doc"){return C("get",`https://api.github.com/repos/${v.userName}/${v.repo}/contents/${t}?ref=gh-pages&client_id=${v.clientId}&client_secret=${v.secrets}`)}function D(t){return C("get",`/${v.repo}/${t}`)}const U={key:1,class:"px-3 pt-2"},M={class:"flex flex-row justify-between"},V={style:{"font-size":"20px"}},G=["onClick"],O={emits:["getText","changePop"],setup(t,{emit:o}){const e=b({fileList:[],pathArr:[],pathHistory:[]}),n=f(!1),s=a=>{a.type==="dir"?c(a.path):o("getText",a)},c=async a=>{n.value=!0,e.pathHistory.push(a),e.pathArr=a.split("/");const l=await z(a);e.fileList=l,n.value=!1},h=()=>{if(e.pathHistory.length<2){o("changePop");return}let a=e.pathHistory[e.pathHistory.length-2];e.pathHistory.pop(),e.pathHistory.pop(),c(a)};return H(()=>{c("doc")}),(a,l)=>{const y=p("van-loading"),S=p("van-divider");return n.value?(i(),g(y,{key:0,class:"loading",color:"#1989fa"})):(i(),d("div",U,[r("div",M,[r("div",null,[r("i",{class:"iconfont icon-houtui",style:{"font-size":"20px"},onClick:h}),r("span",V,x(P(e).pathArr[P(e).pathArr.length-1]),1)]),r("i",{class:"iconfont icon-guanbi",style:{"font-size":"20px"},onClick:l[0]||(l[0]=_=>o("changePop"))})]),u(S),(i(!0),d($,null,B(P(e).fileList,_=>(i(),d("div",{key:_.sha},[r("div",{onClick:Q=>s(_)},[r("i",{class:N(["iconfont",[_.type==="dir"?"icon-wenjianjia":"icon-24gl-fileText"]])},null,2),j(" "+x(_.name),1)],8,G)]))),128))]))}}};var q=L(O,[["__scopeId","data-v-6cde4d68"]]);const J={props:{text:{type:String,default:""},iscontainerLoading:Boolean},setup(t){return(o,e)=>{const n=p("van-loading"),s=p("v-md-preview");return t.iscontainerLoading?(i(),g(n,{key:0,class:"loading",color:"#1989fa"})):(i(),g(s,{key:1,text:t.text},null,8,["text"]))}}};var K=L(J,[["__scopeId","data-v-50168092"]]);const Y={setup(t){const o=f(!1),e=f("**Empty**"),n=f("Home"),s=f(!1),c=()=>{o.value=!o.value},h=async a=>{n.value=a.name,c(),s.value=!0;const l=await D(a.path);e.value=l,s.value=!1};return(a,l)=>{const y=p("router-view");return i(),d($,null,[u(I,{title:n.value,onChangePop:c},null,8,["title"]),u(R,{isPopShow:o.value},{default:k(()=>[u(q,{onChangePop:c,onGetText:h})]),_:1},8,["isPopShow"]),u(K,{text:e.value,iscontainerLoading:s.value},null,8,["text","iscontainerLoading"]),u(y)],64)}}};export{Y as default};
